diff -Naur ./Makefile.Project Makefile.Project
--- ./Makefile.Project	1997-12-11 14:01:41.000000000 -0600
+++ Makefile.Project	2012-08-10 08:45:27.787090310 -0500
@@ -71,9 +71,9 @@
 vpath %.c $(VPATH)/../external
 vpath %.c $(VPATH)/../patterns
 
-CFLAGS_PROJECT = -I$(VPATH)/../include
+CFLAGS_PROJECT = -I$(VPATH)/../include -fPIC
 CXXFLAGS_PROJECT = $(CFLAGS_PROJECT)
-LDFLAGS_PROJECT = -L. -l$(LIBNICK)
+LDFLAGS_PROJECT = -L. -l$(LIBNICK) -fPIC -shared
 LDXXFLAGS_PROJECT = $(LDFLAGS_PROJECT)
 
 % : %.o
diff -Naur ./shmem.C shmem.C
--- ./shmem.C	1996-10-31 11:38:40.000000000 -0600
+++ shmem.C	2012-08-09 23:27:47.707103340 -0500
@@ -158,7 +158,7 @@
   void *data()       // user data pointer 
       { return wp(1); }
 
-  friend inline MemBlock *block(void *p) { return (MemBlock *) ((int *)p - 1); }
+  static inline MemBlock *block(void *p) { return (MemBlock *) ((int *)p - 1); }
 
   MemBlock *downF()  // pointer to the block, which is adjacent to down word
                      //  of free block
@@ -224,7 +224,7 @@
   s--;
   assert( s >= MINSZ );
   assert( s <= totsize - MINSZ );
-  MemBlock *q = block(p);
+  MemBlock *q = MemBlock::block(p);
   int size = q->size();
   int sz = size;
   if( sz < 0 ) sz = -sz;
@@ -315,7 +315,7 @@
   if( !vp )
     return;
   checkptr(vp,"checkptr free");
-  MemBlock *p = block(vp);
+  MemBlock *p = MemBlock::block(vp);
   int size = - p->size();
   assert( size > 0 );
   MemBlock *down = p->downU();
@@ -418,7 +418,7 @@
 void sh_cut(void *vp, int newsize)
   {
   checkptr(vp,"checkptr cut");
-  MemBlock *p = block(vp);
+  MemBlock *p = MemBlock::block(vp);
   int size = - p->size();
   assert( size > 0 );
   MemBlock *down = p->downU();
